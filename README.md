# How to define a Bazel rule to generate Go code
## Introduction
At Uber, we use Bazel, an open source build system from Google, to build our [Go monorepo](https://eng.uber.com/go-monorepo-bazel/), which heavily uses generated code. A simple approach to manage generated code is to check them into the source repository and build them in the same way as manually written code. However, this approach would increase the size of the source repository, leading to performance issues. In addition, the generated code can often get outdated, leading to unexpected build failures. To avoid these issues, we decided to generate code as part of Bazel builds. With build cache, Bazel will automatically decide whether the generated code needs to be updated. To tell Bazel how to generate code, we need to define the code generation process as [rules](https://docs.bazel.build/versions/master/skylark/rules.html).